/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.apartment_system;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import java.util.Date;
import java.text.SimpleDateFormat;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;
import java.util.Calendar;
import java.util.regex.Pattern;
import javax.swing.JFileChooser;
import javax.swing.table.TableModel;
import javax.mail.Message;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
import java.util.Properties;
import javax.mail.MessagingException;
/**
 *
 * @author zhixu
 */
public class ManagerMainPage extends javax.swing.JFrame implements Runnable {
    Connection conn = null;
    ResultSet rs = null;
    PreparedStatement pst = null;
    DefaultTableModel  defaultTableModel = new DefaultTableModel();
    String date = getCurrentDate();
    int hour,minutes,second;
    /**
     * Creates new form ManagerMainPage
     */
    public ManagerMainPage() {
       initComponents();
       
       DateLabel.setText(date);
       Thread t = new Thread(this);
       t.start();
       
        
       
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        buttonGroup2 = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        home_btn = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        account_btn = new javax.swing.JButton();
        jPanel7 = new javax.swing.JPanel();
        openBillpanel = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        forumPanelbtn = new javax.swing.JButton();
        jPanel9 = new javax.swing.JPanel();
        vistorPanelbtn = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jPanel11 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        DateLabel = new javax.swing.JLabel();
        TimeLabel = new javax.swing.JLabel();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        homePanel = new javax.swing.JPanel();
        residentaccPanel = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        resident_table = new javax.swing.JTable();
        addAcc_btn = new javax.swing.JButton();
        deleteAccountbtn = new javax.swing.JButton();
        viewResidentDetails = new javax.swing.JButton();
        addaccPanel = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        username_input = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        email_input = new javax.swing.JTextField();
        password_input = new javax.swing.JTextField();
        addResidentAccount = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        residentUnitInput = new javax.swing.JComboBox<>();
        residentAccountInfo = new javax.swing.JPanel();
        jPanel12 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        resident_name = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        resident_contact = new javax.swing.JLabel();
        resident_ic = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        resident_vehicle = new javax.swing.JTable();
        jLabel17 = new javax.swing.JLabel();
        BillPanel = new javax.swing.JPanel();
        jLabel14 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        billRecord_table = new javax.swing.JTable();
        generateReport = new javax.swing.JButton();
        SearchUnitbtn = new javax.swing.JButton();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        monthPicker = new javax.swing.JComboBox<>();
        yearPicker = new javax.swing.JComboBox<>();
        unitList = new javax.swing.JComboBox<>();
        sendReminderbtn = new javax.swing.JButton();
        generateBillPanel = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        billTypeSelection = new javax.swing.JComboBox<>();
        jLabel18 = new javax.swing.JLabel();
        allUnit = new javax.swing.JRadioButton();
        selectedUnit = new javax.swing.JRadioButton();
        jLabel19 = new javax.swing.JLabel();
        unitInput = new javax.swing.JComboBox<>();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        billDescription = new javax.swing.JTextField();
        sendBill = new javax.swing.JButton();
        jLabel22 = new javax.swing.JLabel();
        billAmountTextField = new javax.swing.JTextField();
        VisitorPanel = new javax.swing.JPanel();
        jLabel25 = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        visitor_table = new javax.swing.JTable();
        searchVisitorInput = new javax.swing.JTextField();
        SearchByListVisitor = new javax.swing.JComboBox<>();
        searchVisitorbtn = new javax.swing.JButton();
        generateVisitorReport = new javax.swing.JButton();
        visitorReportMonthSelection = new javax.swing.JComboBox<>();
        visitorReportYearSelection = new javax.swing.JComboBox<>();
        jLabel26 = new javax.swing.JLabel();
        jLabel27 = new javax.swing.JLabel();
        forumPanel = new javax.swing.JPanel();
        jScrollPane5 = new javax.swing.JScrollPane();
        Forum_table = new javax.swing.JTable();
        forumDicussionPanel = new javax.swing.JPanel();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        createBill = new javax.swing.JMenuItem();
        jMenu2 = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setPreferredSize(new java.awt.Dimension(1350, 1040));

        jPanel2.setBackground(new java.awt.Color(99, 178, 178));

        jLabel1.setFont(new java.awt.Font("Mukta Malar", 1, 24)); // NOI18N
        jLabel1.setText("Sparrow Apartment");

        home_btn.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        home_btn.setText("Home");
        home_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                home_btnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(home_btn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(home_btn, javax.swing.GroupLayout.DEFAULT_SIZE, 61, Short.MAX_VALUE)
        );

        account_btn.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        account_btn.setText("Resident Account");
        account_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                account_btnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(account_btn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(account_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        openBillpanel.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        openBillpanel.setText("Resident Bills");
        openBillpanel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                openBillpanelActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(openBillpanel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(openBillpanel, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        forumPanelbtn.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        forumPanelbtn.setText("Resident Forum");
        forumPanelbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                forumPanelbtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addComponent(forumPanelbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 268, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(forumPanelbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        vistorPanelbtn.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        vistorPanelbtn.setText("Visitor");
        vistorPanelbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                vistorPanelbtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(vistorPanelbtn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(vistorPanelbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel1)
                .addGap(27, 27, 27))
            .addComponent(jPanel7, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(647, Short.MAX_VALUE))
        );

        jPanel3.setBackground(new java.awt.Color(232, 239, 239));
        jPanel3.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel11.setBackground(new java.awt.Color(99, 178, 178));
        jPanel11.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        jPanel11.setForeground(new java.awt.Color(0, 102, 102));
        jPanel11.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel3.setFont(new java.awt.Font("Helvetica Neue", 0, 14)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setText("Date:");
        jPanel11.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 40, -1, -1));

        jLabel4.setFont(new java.awt.Font("Helvetica Neue", 0, 14)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(255, 255, 255));
        jLabel4.setText("Time:");
        jPanel11.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(220, 40, -1, -1));

        DateLabel.setFont(new java.awt.Font("Helvetica Neue", 0, 14)); // NOI18N
        DateLabel.setForeground(new java.awt.Color(255, 255, 255));
        jPanel11.add(DateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 40, 80, 20));

        TimeLabel.setFont(new java.awt.Font("Helvetica Neue", 0, 14)); // NOI18N
        TimeLabel.setForeground(new java.awt.Color(255, 255, 255));
        jPanel11.add(TimeLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 40, 70, 20));

        jPanel3.add(jPanel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, -10, 1160, 80));

        homePanel.setBackground(new java.awt.Color(232, 239, 239));

        javax.swing.GroupLayout homePanelLayout = new javax.swing.GroupLayout(homePanel);
        homePanel.setLayout(homePanelLayout);
        homePanelLayout.setHorizontalGroup(
            homePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1196, Short.MAX_VALUE)
        );
        homePanelLayout.setVerticalGroup(
            homePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 969, Short.MAX_VALUE)
        );

        jTabbedPane2.addTab("tab1", homePanel);

        residentaccPanel.setBackground(new java.awt.Color(232, 239, 239));

        jLabel2.setFont(new java.awt.Font("Arial", 1, 24)); // NOI18N
        jLabel2.setText("Resident Account");

        resident_table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "ID", "Username", "Unit", "Email", "Password", "Created Date"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        resident_table.getTableHeader().setReorderingAllowed(false);
        resident_table.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                resident_tableMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(resident_table);

        addAcc_btn.setText("Add Account");
        addAcc_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addAcc_btnActionPerformed(evt);
            }
        });

        deleteAccountbtn.setText("Delete Account");
        deleteAccountbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteAccountbtnActionPerformed(evt);
            }
        });

        viewResidentDetails.setText("View Resident Details");
        viewResidentDetails.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                viewResidentDetailsActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout residentaccPanelLayout = new javax.swing.GroupLayout(residentaccPanel);
        residentaccPanel.setLayout(residentaccPanelLayout);
        residentaccPanelLayout.setHorizontalGroup(
            residentaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, residentaccPanelLayout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 1111, Short.MAX_VALUE)
                .addGap(85, 85, 85))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, residentaccPanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(addAcc_btn)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(deleteAccountbtn)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(viewResidentDetails)
                .addGap(106, 106, 106))
            .addGroup(residentaccPanelLayout.createSequentialGroup()
                .addGap(40, 40, 40)
                .addComponent(jLabel2)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        residentaccPanelLayout.setVerticalGroup(
            residentaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(residentaccPanelLayout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addComponent(jLabel2)
                .addGap(62, 62, 62)
                .addGroup(residentaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(addAcc_btn)
                    .addComponent(deleteAccountbtn)
                    .addComponent(viewResidentDetails))
                .addGap(20, 20, 20)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 594, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(206, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab2", residentaccPanel);

        addaccPanel.setBackground(new java.awt.Color(232, 239, 239));

        jLabel5.setFont(new java.awt.Font("Arial", 1, 24)); // NOI18N
        jLabel5.setText("Add New Resident Acccount");

        jLabel11.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel11.setText("Username");

        jLabel12.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel12.setText("Password");

        username_input.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                username_inputActionPerformed(evt);
            }
        });

        jLabel13.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel13.setText("Email");

        password_input.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                password_inputActionPerformed(evt);
            }
        });

        addResidentAccount.setText("Add Account");
        addResidentAccount.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addResidentAccountActionPerformed(evt);
            }
        });

        jLabel8.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel8.setText("Resident Unit");

        residentUnitInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                residentUnitInputActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout addaccPanelLayout = new javax.swing.GroupLayout(addaccPanel);
        addaccPanel.setLayout(addaccPanelLayout);
        addaccPanelLayout.setHorizontalGroup(
            addaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, addaccPanelLayout.createSequentialGroup()
                .addContainerGap(531, Short.MAX_VALUE)
                .addGroup(addaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, addaccPanelLayout.createSequentialGroup()
                        .addGroup(addaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(password_input)
                            .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 94, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(username_input)
                            .addComponent(jLabel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel8)
                            .addComponent(email_input)
                            .addComponent(addResidentAccount, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(residentUnitInput, javax.swing.GroupLayout.PREFERRED_SIZE, 172, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(97, 97, 97)))
                .addGap(338, 338, 338))
        );
        addaccPanelLayout.setVerticalGroup(
            addaccPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(addaccPanelLayout.createSequentialGroup()
                .addGap(73, 73, 73)
                .addComponent(jLabel5)
                .addGap(72, 72, 72)
                .addComponent(jLabel11)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(username_input, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(35, 35, 35)
                .addComponent(jLabel8)
                .addGap(11, 11, 11)
                .addComponent(residentUnitInput, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel13)
                .addGap(18, 18, 18)
                .addComponent(email_input, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel12)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(password_input, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28)
                .addComponent(addResidentAccount, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(440, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab3", addaccPanel);

        residentAccountInfo.setBackground(new java.awt.Color(232, 239, 239));

        jPanel12.setBackground(new java.awt.Color(255, 255, 255));

        jLabel6.setFont(new java.awt.Font("Arial", 1, 24)); // NOI18N
        jLabel6.setText("Basic Information");

        jLabel7.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel7.setText("IC No :");

        jLabel9.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel9.setText("Contact Number:");

        jLabel10.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel10.setText("Resident Name:");

        jLabel16.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel16.setText("Registered Unit:");

        resident_vehicle.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "License Plate Number", "Brand ", "Color", "Emergency Contact"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane3.setViewportView(resident_vehicle);

        jLabel17.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jLabel17.setText("Vehicle Information");

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addGap(42, 42, 42)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel17)
                    .addComponent(jLabel16)
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addComponent(jLabel10)
                        .addGap(27, 27, 27)
                        .addComponent(resident_name, javax.swing.GroupLayout.PREFERRED_SIZE, 168, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addGap(83, 83, 83)
                        .addComponent(resident_ic, javax.swing.GroupLayout.PREFERRED_SIZE, 168, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addGap(148, 148, 148)
                        .addComponent(resident_contact, javax.swing.GroupLayout.PREFERRED_SIZE, 168, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 665, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(594, 594, 594)))
                .addContainerGap(451, Short.MAX_VALUE))
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(jLabel6)
                .addGap(30, 30, 30)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(resident_name, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(resident_ic, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel7)
                .addGap(10, 10, 10)
                .addComponent(resident_contact, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(4, 4, 4)
                .addComponent(jLabel9)
                .addGap(44, 44, 44)
                .addComponent(jLabel16)
                .addGap(118, 118, 118)
                .addComponent(jLabel17)
                .addGap(18, 18, 18)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 179, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(133, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout residentAccountInfoLayout = new javax.swing.GroupLayout(residentAccountInfo);
        residentAccountInfo.setLayout(residentAccountInfoLayout);
        residentAccountInfoLayout.setHorizontalGroup(
            residentAccountInfoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(residentAccountInfoLayout.createSequentialGroup()
                .addGap(32, 32, 32)
                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        residentAccountInfoLayout.setVerticalGroup(
            residentAccountInfoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(residentAccountInfoLayout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(169, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab4", residentAccountInfo);

        BillPanel.setBackground(new java.awt.Color(232, 239, 239));

        jLabel14.setFont(new java.awt.Font("Arial", 1, 24)); // NOI18N
        jLabel14.setText("Bills Management");

        billRecord_table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null}
            },
            new String [] {
                "ID", "Unit", "Bill Type", "Payment Status", "Payment Date", "Payment Method", "Description", "Created_date"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                true, false, false, false, false, true, false, true
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane2.setViewportView(billRecord_table);

        generateReport.setText("Generate Report");
        generateReport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                generateReportActionPerformed(evt);
            }
        });

        SearchUnitbtn.setText("Search Unit");
        SearchUnitbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                SearchUnitbtnActionPerformed(evt);
            }
        });

        jLabel23.setText("Month:");

        jLabel24.setText("Year");

        monthPicker.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" }));
        monthPicker.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                monthPickerActionPerformed(evt);
            }
        });

        yearPicker.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025", "2026" }));

        sendReminderbtn.setText("Send Reminder");
        sendReminderbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendReminderbtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout BillPanelLayout = new javax.swing.GroupLayout(BillPanel);
        BillPanel.setLayout(BillPanelLayout);
        BillPanelLayout.setHorizontalGroup(
            BillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(BillPanelLayout.createSequentialGroup()
                .addGroup(BillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(BillPanelLayout.createSequentialGroup()
                        .addGap(15, 15, 15)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 1017, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(BillPanelLayout.createSequentialGroup()
                        .addGap(47, 47, 47)
                        .addGroup(BillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(BillPanelLayout.createSequentialGroup()
                                .addComponent(unitList, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(SearchUnitbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(180, 180, 180)
                        .addComponent(jLabel23)
                        .addGap(32, 32, 32)
                        .addComponent(monthPicker, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel24)
                        .addGap(18, 18, 18)
                        .addComponent(yearPicker, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(36, 36, 36)
                        .addComponent(generateReport)
                        .addGap(18, 18, 18)
                        .addComponent(sendReminderbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(164, Short.MAX_VALUE))
        );
        BillPanelLayout.setVerticalGroup(
            BillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(BillPanelLayout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addComponent(jLabel14)
                .addGap(46, 46, 46)
                .addGroup(BillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(generateReport)
                    .addComponent(SearchUnitbtn)
                    .addComponent(jLabel23)
                    .addComponent(jLabel24)
                    .addComponent(monthPicker, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(yearPicker, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(unitList, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(sendReminderbtn))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(397, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab5", BillPanel);

        generateBillPanel.setBackground(new java.awt.Color(232, 239, 239));

        jLabel15.setFont(new java.awt.Font("Arial", 1, 18)); // NOI18N
        jLabel15.setText("Gererate Bill");

        billTypeSelection.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Maintance fee", "Sinking fee", " " }));
        billTypeSelection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                billTypeSelectionActionPerformed(evt);
            }
        });

        jLabel18.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
        jLabel18.setText("Bill Type:");

        buttonGroup1.add(allUnit);
        allUnit.setText("All Unit");
        allUnit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                allUnitActionPerformed(evt);
            }
        });

        buttonGroup1.add(selectedUnit);
        selectedUnit.setText("Selected Unit");
        selectedUnit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                selectedUnitActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
        jLabel19.setText("To:");

        jLabel20.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
        jLabel20.setText("Select Unit:");

        jLabel21.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
        jLabel21.setText("Description");

        billDescription.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                billDescriptionActionPerformed(evt);
            }
        });

        sendBill.setText("Genarate");
        sendBill.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendBillActionPerformed(evt);
            }
        });

        jLabel22.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
        jLabel22.setText("Amount:");

        javax.swing.GroupLayout generateBillPanelLayout = new javax.swing.GroupLayout(generateBillPanel);
        generateBillPanel.setLayout(generateBillPanelLayout);
        generateBillPanelLayout.setHorizontalGroup(
            generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(generateBillPanelLayout.createSequentialGroup()
                .addGap(450, 450, 450)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel15, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(generateBillPanelLayout.createSequentialGroup()
                        .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel22)
                            .addComponent(jLabel20)
                            .addComponent(jLabel21))
                        .addGap(45, 45, 45)
                        .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(billDescription, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(unitInput, 0, 101, Short.MAX_VALUE)
                                .addComponent(billAmountTextField))))
                    .addGroup(generateBillPanelLayout.createSequentialGroup()
                        .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel18)
                            .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(60, 60, 60)
                        .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(generateBillPanelLayout.createSequentialGroup()
                                .addComponent(allUnit)
                                .addGap(54, 54, 54)
                                .addComponent(selectedUnit))
                            .addComponent(billTypeSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(401, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, generateBillPanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(sendBill, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(522, 522, 522))
        );
        generateBillPanelLayout.setVerticalGroup(
            generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(generateBillPanelLayout.createSequentialGroup()
                .addGap(111, 111, 111)
                .addComponent(jLabel15)
                .addGap(54, 54, 54)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(billTypeSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18))
                .addGap(35, 35, 35)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(selectedUnit)
                    .addComponent(jLabel19)
                    .addComponent(allUnit))
                .addGap(18, 18, 18)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(unitInput, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel20))
                .addGap(38, 38, 38)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(billAmountTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(27, 27, 27)
                .addGroup(generateBillPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(billDescription, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel21))
                .addGap(114, 114, 114)
                .addComponent(sendBill, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(382, Short.MAX_VALUE))
        );

        unitInput.setEnabled(false);

        jTabbedPane2.addTab("tab6", generateBillPanel);

        VisitorPanel.setBackground(new java.awt.Color(232, 239, 239));

        jLabel25.setFont(new java.awt.Font("Arial", 1, 24)); // NOI18N
        jLabel25.setText("Visitor Record");

        visitor_table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null}
            },
            new String [] {
                "Name", "Unit", "Plate Number", "Time in", "Time out", "Status", "Date", "Reason"
            }
        ));
        jScrollPane4.setViewportView(visitor_table);

        searchVisitorInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchVisitorInputActionPerformed(evt);
            }
        });

        SearchByListVisitor.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "name", "resident_unit", "plate_number" }));

        searchVisitorbtn.setText("Search");
        searchVisitorbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchVisitorbtnActionPerformed(evt);
            }
        });

        generateVisitorReport.setText("Generate Report");
        generateVisitorReport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                generateVisitorReportActionPerformed(evt);
            }
        });

        visitorReportMonthSelection.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" }));

        visitorReportYearSelection.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "2020", "2021", "2022", "2023" }));

        jLabel26.setText("Month:");

        jLabel27.setText("Year:");

        javax.swing.GroupLayout VisitorPanelLayout = new javax.swing.GroupLayout(VisitorPanel);
        VisitorPanel.setLayout(VisitorPanelLayout);
        VisitorPanelLayout.setHorizontalGroup(
            VisitorPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(VisitorPanelLayout.createSequentialGroup()
                .addGap(32, 32, 32)
                .addGroup(VisitorPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel25)
                    .addGroup(VisitorPanelLayout.createSequentialGroup()
                        .addComponent(SearchByListVisitor, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchVisitorInput, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchVisitorbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(71, 71, 71)
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(visitorReportMonthSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel27)
                        .addGap(18, 18, 18)
                        .addComponent(visitorReportYearSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(generateVisitorReport)))
                .addContainerGap(339, Short.MAX_VALUE))
            .addGroup(VisitorPanelLayout.createSequentialGroup()
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 1085, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        VisitorPanelLayout.setVerticalGroup(
            VisitorPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(VisitorPanelLayout.createSequentialGroup()
                .addGap(67, 67, 67)
                .addComponent(jLabel25)
                .addGap(44, 44, 44)
                .addGroup(VisitorPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(SearchByListVisitor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(searchVisitorInput, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(searchVisitorbtn)
                    .addComponent(jLabel26)
                    .addComponent(visitorReportMonthSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel27)
                    .addComponent(visitorReportYearSelection, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(generateVisitorReport))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(362, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab7", VisitorPanel);

        Forum_table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "ID", "Pubilsher", "Title", "Content", "Created_date"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane5.setViewportView(Forum_table);

        javax.swing.GroupLayout forumPanelLayout = new javax.swing.GroupLayout(forumPanel);
        forumPanel.setLayout(forumPanelLayout);
        forumPanelLayout.setHorizontalGroup(
            forumPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(forumPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 1031, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(159, Short.MAX_VALUE))
        );
        forumPanelLayout.setVerticalGroup(
            forumPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(forumPanelLayout.createSequentialGroup()
                .addGap(101, 101, 101)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(441, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab8", forumPanel);

        jLabel28.setText("Title:");

        jLabel29.setText("Content:");

        javax.swing.GroupLayout forumDicussionPanelLayout = new javax.swing.GroupLayout(forumDicussionPanel);
        forumDicussionPanel.setLayout(forumDicussionPanelLayout);
        forumDicussionPanelLayout.setHorizontalGroup(
            forumDicussionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(forumDicussionPanelLayout.createSequentialGroup()
                .addGap(150, 150, 150)
                .addGroup(forumDicussionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel29)
                    .addComponent(jLabel28))
                .addContainerGap(997, Short.MAX_VALUE))
        );
        forumDicussionPanelLayout.setVerticalGroup(
            forumDicussionPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(forumDicussionPanelLayout.createSequentialGroup()
                .addGap(54, 54, 54)
                .addComponent(jLabel28)
                .addGap(26, 26, 26)
                .addComponent(jLabel29)
                .addContainerGap(855, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("tab9", forumDicussionPanel);

        jPanel3.add(jTabbedPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 33, 1160, 1000));

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 1177, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jMenu1.setText("Bill");

        createBill.setText("Create Bill");
        createBill.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                createBillActionPerformed(evt);
            }
        });
        jMenu1.add(createBill);

        jMenuBar1.add(jMenu1);

        jMenu2.setText("Edit");
        jMenuBar1.add(jMenu2);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void home_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_home_btnActionPerformed
                jTabbedPane2.setSelectedIndex(0);  
                username_input.setText("");
                email_input.setText("");
                password_input.setText("");
    }//GEN-LAST:event_home_btnActionPerformed

    private void account_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_account_btnActionPerformed
        jTabbedPane2.setSelectedIndex(1);  
        username_input.setText("");
        email_input.setText("");
        password_input.setText("");
        DefaultTableModel model = (DefaultTableModel) resident_table.getModel();
        model.setRowCount(0);
        load_residentAccount();
    }//GEN-LAST:event_account_btnActionPerformed

    private void openBillpanelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_openBillpanelActionPerformed
        
        jTabbedPane2.setSelectedIndex(4); 
        DefaultTableModel model = (DefaultTableModel) billRecord_table.getModel();
        model.setRowCount(0);
        unitList.removeAllItems();
        rs = floor_unitList();
        try{
          
            while(rs.next()){
                String unit = rs.getString("floor_unit");
                unitList.addItem(unit);
            }
            
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(null,e);
        }
        
        load_billRecord();

    }//GEN-LAST:event_openBillpanelActionPerformed

    private void forumPanelbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_forumPanelbtnActionPerformed
        jTabbedPane2.setSelectedIndex(7); 
        DefaultTableModel model = (DefaultTableModel) Forum_table.getModel();
        model.setRowCount(0);
        load_forumRecord();
    }//GEN-LAST:event_forumPanelbtnActionPerformed

    private void vistorPanelbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_vistorPanelbtnActionPerformed
        jTabbedPane2.setSelectedIndex(6);  
        DefaultTableModel model = (DefaultTableModel) visitor_table.getModel();
        model.setRowCount(0);
        load_visitorRecord();
    }//GEN-LAST:event_vistorPanelbtnActionPerformed

    private void username_inputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_username_inputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_username_inputActionPerformed

    private void password_inputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_password_inputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_password_inputActionPerformed

    private void addResidentAccountActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addResidentAccountActionPerformed
        conn = sqliteConn2.connect();
        if(conn!=null){
            String username = username_input.getText();
            String email = email_input.getText();
            String password = password_input.getText();
            String unit = residentUnitInput.getSelectedItem().toString();
            String currentDate = getCurrentDate();
            String sql = "INSERT into resident_account(username,email,password,created_date) values (?,?,?,?)";
            String findID = "SELECT id from resident_account WHERE email =?";
            String sql3 = "UPDATE  apartment_unit SET resident_id =? ,registered='true' WHERE floor_unit =?";
            
            if(!isValidEmail(email)){
                JOptionPane.showMessageDialog(null, "Invalid email format", "Error", JOptionPane.ERROR_MESSAGE);
            }
            else if(isEmailAlreadyExists(email)){
                
                JOptionPane.showMessageDialog(null, "Email already exists", "Error", JOptionPane.ERROR_MESSAGE);
            }
            
            else{
                try{
                pst = conn.prepareStatement(sql);
                pst.setString(1,username);
                pst.setString(2,email);
                pst.setString(3,password);
                pst.setString(4,currentDate);
                pst.execute();
                

                JOptionPane.showMessageDialog(null,"Account Created");
                }catch (Exception e){
                    JOptionPane.showMessageDialog(null,e);
                }
                
                try{
                    pst =conn.prepareStatement(findID);
                    pst.setString(1,email);
                    rs = pst.executeQuery();
                    String resident_id = rs.getString("id");

                    pst = conn.prepareStatement(sql3);
                    pst.setString(1,resident_id);
                    pst.setString(2, unit );
                    pst.execute();
                    JOptionPane.showMessageDialog(null,"Unit Created");
                
                

                
                }catch (Exception e){
                    JOptionPane.showMessageDialog(null,e);
                }
                
                
         }
            
                
        }
        
    }//GEN-LAST:event_addResidentAccountActionPerformed

    private void addAcc_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addAcc_btnActionPerformed
        conn = sqliteConn2.connect();
        jTabbedPane2.setSelectedIndex(2); 
        username_input.setText("");
        email_input.setText("");
        password_input.setText("");
        String sql = "SELECT floor_unit from apartment_unit WHERE registered ='false' ";
        try{
            Statement stm = conn.createStatement();
            ResultSet rs = stm.executeQuery(sql);
            while(rs.next()){
                String unit = rs.getString("floor_unit");
                residentUnitInput.addItem(unit);
            }
            
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(null,e);
        }
        
        
    }//GEN-LAST:event_addAcc_btnActionPerformed

    private void resident_tableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_resident_tableMouseClicked
                
        
         
        
    }//GEN-LAST:event_resident_tableMouseClicked

    private void residentUnitInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_residentUnitInputActionPerformed
        
    }//GEN-LAST:event_residentUnitInputActionPerformed

    private void deleteAccountbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteAccountbtnActionPerformed
        DefaultTableModel residentTbl = (DefaultTableModel) resident_table.getModel();
        conn = sqliteConn2.connect();
        int row = resident_table.getSelectedRow();
   
        if(resident_table.getSelectedRowCount() ==1){
            String email = resident_table.getModel().getValueAt(row, 3).toString();
            String id = resident_table.getModel().getValueAt(row, 0).toString();
            System.out.println(email);
            String sql = "DELETE  FROM resident_account WHERE email=?";
            String unregister_unit = " UPDATE apartment_unit SET resident_id ='' , registered = 'false' WHERE resident_id =? ";
           
            residentTbl.removeRow(resident_table.getSelectedRow());
            
            try{
                pst = conn.prepareStatement(sql);
                pst.setString(1,email);
                pst.executeUpdate();
    
                JOptionPane.showMessageDialog(this,"Account Delete Successfully");
                
                
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
            try{
                pst = conn.prepareStatement(unregister_unit);
                pst.setString(1,id);
                pst.executeUpdate();
    
   
                
                
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
        
            
               
        }else{
                if(resident_table.getRowCount()==0){
                    JOptionPane.showMessageDialog(this, "This table is empty");
                }else{
                    JOptionPane.showMessageDialog(this, "Please select one row of table to delete");
                }
     }
    }//GEN-LAST:event_deleteAccountbtnActionPerformed

    private void viewResidentDetailsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_viewResidentDetailsActionPerformed
        int index = resident_table.getSelectedRow();
        TableModel model = resident_table.getModel();
        String username = model.getValueAt(index, 1).toString();
        conn = sqliteConn2.connect();

        if(conn!= null){
            jTabbedPane2.setSelectedIndex(3);
            resident_name.setText(username);
              
              
            String sql = "SELECT resident_account.ic,resident_account.contact, apartment_unit.floor_unit FROM resident_account ,apartment_unit WHERE resident_account.username =?";
            try{
               pst = conn.prepareStatement(sql);
               pst.setString(1,username);
               rs = pst.executeQuery();
               resident_ic.setText(rs.getString("ic"));
              
                      
              
          
        
               
            }catch (Exception e){
                JOptionPane.showMessageDialog(null,e);
            }
         
        }
    }//GEN-LAST:event_viewResidentDetailsActionPerformed

    private void generateReportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_generateReportActionPerformed
        conn = sqliteConn2.connect();
String month = monthPicker.getSelectedItem().toString();
String year = yearPicker.getSelectedItem().toString();
String sql = "SELECT * FROM bill_record WHERE created_date BETWEEN ? and ?";
Object columns[] = {"ID","Unit","Bill_type","Bill_amount","Payment_status","Payment_date","Payment_method","Description","created_date"};
defaultTableModel.setColumnIdentifiers(columns);
billRecord_table.setModel(defaultTableModel);

try {
    pst = conn.prepareStatement(sql);
    pst.setString(1,year+"-"+month+"-"+"01");
    pst.setString(2,year+"-"+month+"-"+"31");
    rs = pst.executeQuery();
    defaultTableModel.setRowCount(0);
    int rowCount = 0;
    Object[] columnData = new Object[9];

    while (rs.next()) {
        columnData[0] = rs.getString("id");
        columnData[1] = rs.getString("floor_unit");
        columnData[2] = rs.getString("bill_type");
        columnData[3] = rs.getString("bill_amount");
        columnData[4] = rs.getString("payment_status");
        columnData[5] = rs.getString("payment_date");
        columnData[6] = rs.getString("payment_method");
        columnData[7] = rs.getString("description");
        columnData[8] = rs.getString("created_date");

        defaultTableModel.addRow(columnData);
        rowCount++;
    }

    if (rowCount > 0) {
        JFileChooser fileChooser = new JFileChooser();
        fileChooser.setDialogTitle("Specify a file to save");
        int userSelection = fileChooser.showSaveDialog(this);
        if (userSelection == JFileChooser.APPROVE_OPTION) {
            File fileToSave = fileChooser.getSelectedFile();
            try (FileWriter fw = new FileWriter(fileToSave);
                 BufferedWriter bw = new BufferedWriter(fw)) {
                bw.write("Bill record");
                bw.newLine();
                for (int i = 0; i < billRecord_table.getRowCount(); i++) {
                    for (int j = 0; j < billRecord_table.getColumnCount(); j++) {
                        bw.write(billRecord_table.getValueAt(i, j) + ",");
                    }
                    bw.newLine();
                }
                JOptionPane.showMessageDialog(this, "Successfully Saved");
            } catch (IOException ex) {
                JOptionPane.showMessageDialog(this, "Error occurred while saving the file", "Error", JOptionPane.ERROR_MESSAGE);
            }
        }
    } else {
        JOptionPane.showMessageDialog(null, "No record found");
    }
} catch (Exception e) {
    JOptionPane.showMessageDialog(null, e.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
} finally {
    // Close resources (result set, statement, connection)
    if (rs != null) {
        try {
            rs.close();
        } catch (SQLException e) {
            // Handle exception
        }
    }
    if (pst != null) {
        try {
            pst.close();
        } catch (SQLException e) {
            // Handle exception
        }
    }
    if (conn != null) {
        try {
            conn.close();
        } catch (SQLException e) {
            // Handle exception
        }
    }
}

                    
        
        
        
    }//GEN-LAST:event_generateReportActionPerformed

    private void allUnitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_allUnitActionPerformed
        unitInput.setEnabled(false);
    }//GEN-LAST:event_allUnitActionPerformed

    private void selectedUnitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_selectedUnitActionPerformed
            unitInput.setEnabled(true);
    }//GEN-LAST:event_selectedUnitActionPerformed

    private void billDescriptionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_billDescriptionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_billDescriptionActionPerformed

    private void sendBillActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sendBillActionPerformed
        conn = sqliteConn2.connect();
        String currentDate = getCurrentDate();
        if(conn != null){
            if(selectedUnit.isSelected()){
                String sql = "INSERT INTO bill_record(floor_unit,bill_type,bill_amount,payment_status,description,created_date) values(?,?,?,?,?,?) ";
                String billType = billTypeSelection.getSelectedItem().toString();
                String unit = unitInput.getSelectedItem().toString();
                String amount = billAmountTextField.getText();
                String description = billDescription.getText();
                if(amount.equals("")){
                    JOptionPane.showMessageDialog(null,"Please enter amount");
                }else if(description.equals("")){
                    JOptionPane.showMessageDialog(null,"Please give description");
                }else{
                    try{
                        pst = conn.prepareStatement(sql);
                        pst.setString(1, unit);
                        pst.setString(2, billType);
                        pst.setString(3, amount);
                        pst.setString(4, "false");
                        pst.setString(5, description);
                        pst.setString(6, currentDate);
                        pst.execute();
                        JOptionPane.showMessageDialog(null,"Bill created");
                        billAmountTextField.setText("");
                        billDescription.setText("");
                    }catch(SQLException e){
                       JOptionPane.showMessageDialog(null,e);
                        }
                }
                                   
            }else if(allUnit.isSelected()){
                String sql = "SELECT floor_unit from apartment_unit WHERE registered ='true' ";
                String sql2 = "INSERT INTO bill_record (floor_unit,bill_type,bill_amount,payment_status,description,created_date) values(?,?,?,?,?,?)";
                try{
                    Statement stm = conn.createStatement();
                    ResultSet rs = stm.executeQuery(sql);
                    
                    while(rs.next()){
                        String billType = billTypeSelection.getSelectedItem().toString();
                        
                        String description = billDescription.getText();
                        String unit = rs.getString("floor_unit");
                        String amount = billAmountTextField.getText();
                        pst = conn.prepareStatement(sql2);
                        pst.setString(1, unit);
                        pst.setString(2, billType);
                        pst.setString(3, amount);
                        pst.setString(4, "false");
                        pst.setString(5, description);
                        pst.setString(6, currentDate);
                        pst.execute();
                        
                    }
                    JOptionPane.showMessageDialog(null,"Bill created");
                    

                }catch(Exception e){
                    JOptionPane.showMessageDialog(null,e);
                }
            }else{
                JOptionPane.showMessageDialog(null,"Select one options at unit");
            }
        }
    }//GEN-LAST:event_sendBillActionPerformed

    private void billTypeSelectionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_billTypeSelectionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_billTypeSelectionActionPerformed

    private void monthPickerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_monthPickerActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_monthPickerActionPerformed

    private void SearchUnitbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_SearchUnitbtnActionPerformed
        conn = sqliteConn2.connect();
        Object columns[] = {"ID","Unit","Bill_type","Bill_amount","Payment_status","Payment_date","Payment_method","Description","created_date"};
        defaultTableModel.setColumnIdentifiers(columns);
        billRecord_table.setModel(defaultTableModel);
        String unit = unitList.getSelectedItem().toString();
        String sql = "SELECT * from bill_record WHERE floor_unit =?";
        if(conn !=null){
            try{
              pst = conn.prepareStatement(sql);
              pst.setString(1,unit);
              rs = pst.executeQuery();
              defaultTableModel.setRowCount(0);
              Object[] columnData = new Object[9];
                while(rs.next()){
                       columnData[0] = rs.getString("id");
                       columnData[1] = rs.getString("floor_unit");
                       columnData[2] = rs.getString("bill_type");
                       columnData[3] = rs.getString("bill_amount");
                       columnData[4] = rs.getString("payment_status");
                       columnData[5] = rs.getString("payment_date");
                       columnData[6] = rs.getString("payment_method");
                       columnData[7] = rs.getString("description");
                       columnData[8] = rs.getString("created_date");
                     
                       defaultTableModel.addRow(columnData);
                       
                }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
                }finally {
        // Close resources (result set, statement, connection)
        if (rs != null) {
            try {
                rs.close();
            } catch (SQLException e) {
                // Handle exception
            }
        }
        if (pst != null) {
            try {
                pst.close();
            } catch (SQLException e) {
                // Handle exception
            }
        }
        if (conn != null) {
            try {
                conn.close();
            } catch (SQLException e) {
                // Handle exception
            }
        }
}
              
        }
    }//GEN-LAST:event_SearchUnitbtnActionPerformed

    private void sendReminderbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sendReminderbtnActionPerformed
         Properties properties =new Properties();
         properties.put("mail.smtp.auth","true");
         properties.put("mail.smtp.starttls.enable", "true");
         properties.put("mail.smtp.host", "stmp.gmail.com");
         properties.put("mail.smtp.port", "110");
         
         Session session = Session.getDefaultInstance(properties);
            try {
                InternetAddress fromAddress = new InternetAddress("zhixuanchu3131@gmail.com");
                InternetAddress toAddress = new InternetAddress("p22013790@student.newinti.edu.my");

                Message message = new MimeMessage(session);
                message.setFrom(fromAddress);
                message.setRecipient(Message.RecipientType.TO, toAddress);
                message.setSubject("Bill reminder");
                message.setText("Please submit the lastest bill ");

                Transport.send(message, "zhixuanchu3131@gmail.com",
                        new String("Chuzhixuan@0110"));
            } catch (MessagingException ex) {
                ex.printStackTrace();
            }
         
    }//GEN-LAST:event_sendReminderbtnActionPerformed

    private void createBillActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_createBillActionPerformed
            jTabbedPane2.setSelectedIndex(5); 
            conn = sqliteConn2.connect();
            String sql = "SELECT floor_unit from apartment_unit WHERE registered ='true' ";
        try{
            Statement stm = conn.createStatement();
            ResultSet rs = stm.executeQuery(sql);
            while(rs.next()){
                String unit = rs.getString("floor_unit");
                unitInput.addItem(unit);
            }
            
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(null,e);
        }
    }//GEN-LAST:event_createBillActionPerformed

    private void searchVisitorInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchVisitorInputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_searchVisitorInputActionPerformed

    private void searchVisitorbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchVisitorbtnActionPerformed
        conn = sqliteConn2.connect();
        String searchBy = SearchByListVisitor.getSelectedItem().toString();
        String input = searchVisitorInput.getText();
        
        Object columns[] = {"Name","Unit","Plate number","Time in","Time out","Status","Date","Reason"};
        
        defaultTableModel.setColumnIdentifiers(columns);
        visitor_table.setModel(defaultTableModel);
        if(conn != null){   
             
            
            if(searchBy.equals("name")){
                String sql = "SELECT name,resident_unit,plate_number,time_in,time_out,status,date,reason FROM visitor WHERE name = ? ";
                try {
                  int rowCount = 0;
                pst = conn.prepareStatement(sql);
                pst.setString(1, input);
                //pst.setString(2,input);
                rs = pst.executeQuery();
                defaultTableModel.setRowCount(0);
                Object[] columnData = new Object[9];
                while(rs.next()){
                       columnData[0] = rs.getString("name");
                       columnData[1] = rs.getString("resident_unit");
                       columnData[2] = rs.getString("plate_number");
                       columnData[3] = rs.getString("time_in");
                       columnData[4] = rs.getString("time_out");
                       columnData[5] = rs.getString("status");
                       columnData[6] = rs.getString("date");
                       columnData[7] = rs.getString("reason");
                       
                     
                       defaultTableModel.addRow(columnData);
                       rowCount++;

                }
                if(rowCount <=0){
                        JOptionPane.showMessageDialog(null,"Record not found");
                    }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }finally {
    // Close resources (result set, statement, connection)
            if (rs != null) {
                try {
                    rs.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (pst != null) {
                try {
                    pst.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (conn != null) {
                try {
                    conn.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
        }
            }else if(searchBy.equals("resident_unit")){
                String sql = "SELECT name,resident_unit,plate_number,time_in,time_out,status,date,reason FROM visitor WHERE resident_unit = ? ";
                try {
                  int rowCount = 0;
                pst = conn.prepareStatement(sql);
                pst.setString(1, input);
                //pst.setString(2,input);
                rs = pst.executeQuery();
                defaultTableModel.setRowCount(0);
                Object[] columnData = new Object[9];
                while(rs.next()){
                       columnData[0] = rs.getString("name");
                       columnData[1] = rs.getString("resident_unit");
                       columnData[2] = rs.getString("plate_number");
                       columnData[3] = rs.getString("time_in");
                       columnData[4] = rs.getString("time_out");
                       columnData[5] = rs.getString("status");
                       columnData[6] = rs.getString("date");
                       columnData[7] = rs.getString("reason");
                       
                     
                       defaultTableModel.addRow(columnData);
                       rowCount++;

                }
                if(rowCount <=0){
                        JOptionPane.showMessageDialog(null,"Record not found");
                    }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }finally {
    // Close resources (result set, statement, connection)
            if (rs != null) {
                try {
                    rs.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (pst != null) {
                try {
                    pst.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (conn != null) {
                try {
                    conn.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
        }
            }else if(searchBy.equals("plate_number")){
                String sql = "SELECT name,resident_unit,plate_number,time_in,time_out,status,date,reason FROM visitor WHERE plate_number = ? ";
                try {
                  int rowCount = 0;
                pst = conn.prepareStatement(sql);
                pst.setString(1, input);
                //pst.setString(2,input);
                rs = pst.executeQuery();
                defaultTableModel.setRowCount(0);
                Object[] columnData = new Object[9];
                while(rs.next()){
                       columnData[0] = rs.getString("name");
                       columnData[1] = rs.getString("resident_unit");
                       columnData[2] = rs.getString("plate_number");
                       columnData[3] = rs.getString("time_in");
                       columnData[4] = rs.getString("time_out");
                       columnData[5] = rs.getString("status");
                       columnData[6] = rs.getString("date");
                       columnData[7] = rs.getString("reason");
                       
                     
                       defaultTableModel.addRow(columnData);
                       rowCount++;

                }
                if(rowCount <=0){
                        JOptionPane.showMessageDialog(null,"Record not found");
                    }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }finally {
    // Close resources (result set, statement, connection)
            if (rs != null) {
                try {
                    rs.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (pst != null) {
                try {
                    pst.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (conn != null) {
                try {
                    conn.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
        }
            }

               
        }
        
    }//GEN-LAST:event_searchVisitorbtnActionPerformed

    private void generateVisitorReportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_generateVisitorReportActionPerformed
        conn = sqliteConn2.connect();
        String month = visitorReportMonthSelection.getSelectedItem().toString();
        String year = visitorReportYearSelection.getSelectedItem().toString();
        String sql = "SELECT * FROM visitor WHERE date BETWEEN  ? AND ?";
        String sql2 = "SELECT COUNT(date) as 'Total_of_visitor_in_month' FROM visitor WHERE date BETWEEN  ? AND ?";
        Object columns[] = {"Name","Unit","Plate number","Time in","Time out","Status","Date","Reason"};
        defaultTableModel.setColumnIdentifiers(columns);
        visitor_table.setModel(defaultTableModel);

        try {
            pst = conn.prepareStatement(sql);
            
            pst.setString(1,year+"-"+month+"-"+"01");
            pst.setString(2,year+"-"+month+"-"+"31");
            rs = pst.executeQuery();
            defaultTableModel.setRowCount(0);
            int rowCount = 0;
            Object[] columnData = new Object[9];

            while (rs.next()) {
                       columnData[0] = rs.getString("name");
                       columnData[1] = rs.getString("resident_unit");
                       columnData[2] = rs.getString("plate_number");
                       columnData[3] = rs.getString("time_in");
                       columnData[4] = rs.getString("time_out");
                       columnData[5] = rs.getString("status");
                       columnData[6] = rs.getString("date");
                       columnData[7] = rs.getString("reason");

                defaultTableModel.addRow(columnData);
                rowCount++;
            }
            pst = conn.prepareStatement(sql2);
            pst.setString(1,year+"-"+month+"-"+"01");
            pst.setString(2,year+"-"+month+"-"+"31");
            rs = pst.executeQuery();
            String total = rs.getString("Total_of_visitor_in_month");
            System.out.println(total);

            if (rowCount > 0) {
                JFileChooser fileChooser = new JFileChooser();
                fileChooser.setDialogTitle("Specify a file to save");
                int userSelection = fileChooser.showSaveDialog(this);
                if (userSelection == JFileChooser.APPROVE_OPTION) {
                    File fileToSave = fileChooser.getSelectedFile();
                    try (FileWriter fw = new FileWriter(fileToSave);
                         BufferedWriter bw = new BufferedWriter(fw)) {
                        bw.write("Vistor report");
                        bw.newLine();
                        bw.write("Total visitor in month:" +total);
                        bw.newLine();
                        
                        for (int i = 0; i < visitor_table.getRowCount(); i++) {
                            for (int j = 0; j < visitor_table.getColumnCount(); j++) {
                                bw.write(visitor_table.getValueAt(i, j) + ",");
                            }
                            bw.newLine();
                        }
                        JOptionPane.showMessageDialog(this, "Successfully Saved");
                    } catch (IOException ex) {
                        JOptionPane.showMessageDialog(this, "Error occurred while saving the file", "Error", JOptionPane.ERROR_MESSAGE);
                    }
                }
            } else {
                JOptionPane.showMessageDialog(null, "No record found");
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, e.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
        } finally {
            // Close resources (result set, statement, connection)
            if (rs != null) {
                try {
                    rs.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (pst != null) {
                try {
                    pst.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
            if (conn != null) {
                try {
                    conn.close();
                } catch (SQLException e) {
                    // Handle exception
                }
            }
        }
    }//GEN-LAST:event_generateVisitorReportActionPerformed
     public void load_residentAccount(){
        conn = sqliteConn2.connect();
        Object columns[] = {"ID","resident_username","floor_unit","resident_email","resident_password","created_date"};
        defaultTableModel.setColumnIdentifiers(columns);
        resident_table.setModel(defaultTableModel);
        if(conn != null){   
            String sql = "SELECT r.id ,r.username ,u.floor_unit,r.email, r.password,r.created_date\n" +
                    "FROM resident_account r, apartment_unit u\n" +
                    "WHERE u.registered = 'true' and u.resident_id = r.id";
            try {
                pst = conn.prepareStatement(sql);
                rs = pst.executeQuery();
                Object[] columnData = new Object[8];
                while(rs.next()){
                       columnData[0] = rs.getString("id");
                       columnData[1] = rs.getString("username");
                       columnData[2] = rs.getString("floor_unit");
                       columnData[3] = rs.getString("email");
                       columnData[4] = rs.getString("password");
                       columnData[5] = rs.getString("created_date");
                     
                       defaultTableModel.addRow(columnData);
                       
                }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
               
        }
    }
     public void load_billRecord(){
        conn = sqliteConn2.connect();
        
        if(conn != null){   
            String sql = "SELECT * FROM bill_record";
            try {
                pst = conn.prepareStatement(sql);
                rs = pst.executeQuery();
                Object[] columnData = new Object[9];
                while(rs.next()){
                       columnData[0] = rs.getString("id");
                       columnData[1] = rs.getString("floor_unit");
                       columnData[2] = rs.getString("bill_type");
                       columnData[3] = rs.getString("bill_amount");
                       columnData[4] = rs.getString("payment_status");
                       columnData[5] = rs.getString("payment_date");
                       columnData[6] = rs.getString("payment_method");
                       columnData[7] = rs.getString("description");
                       columnData[8] = rs.getString("created_date");
                       DefaultTableModel bill_table = (DefaultTableModel)billRecord_table.getModel();
                       bill_table.addRow(columnData);
                       
                }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
               
        }
    }
     
     public void load_visitorRecord(){
        conn = sqliteConn2.connect();
        Object columns[] = {"Name","Unit","Plate number","Time in","Time out","Status","Date","Reason"};
        
        if(conn != null){   
            String sql = "SELECT name,resident_unit,plate_number,time_in,time_out,status,date,reason FROM visitor";
            try {
                pst = conn.prepareStatement(sql);
                rs = pst.executeQuery();
                
                while(rs.next()){
                       String name = rs.getString("name");
                       String resident_unit = rs.getString("resident_unit");
                       String plate_number = rs.getString("plate_number");
                       String time_in = rs.getString("time_in");
                       String time_out = rs.getString("time_out");
                       String status = rs.getString("status");
                       String date = rs.getString("date");
                       String reason = rs.getString("reason");
                       String tbData[] ={name,resident_unit,plate_number,time_in,time_out,status,date,reason};
                       DefaultTableModel visitorRecord_table = (DefaultTableModel)visitor_table.getModel();
                       visitorRecord_table.addRow(tbData);
                       
                }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
               
        }
    }
     
     public void load_forumRecord(){
        conn = sqliteConn2.connect();
        
         
        
        if(conn != null){   
            String sql = "SELECT id,forum_author,forum_title,forum_content,created_date FROM forum";
            try {
                pst = conn.prepareStatement(sql);
                rs = pst.executeQuery();
                
                while(rs.next()){
                       String id = rs.getString("id");
                       String forum_author = rs.getString("forum_author");
             
                       String forum_title = rs.getString("forum_title");
                       String forum_content = rs.getString("forum_content");
                       String created_date = rs.getString("created_date");
                       String tbData[] ={id,forum_author,forum_title,forum_content,created_date};
                       DefaultTableModel forum_table = (DefaultTableModel)Forum_table.getModel();
                     
                       forum_table.addRow(tbData);
                       
                }
            }catch(SQLException e){
                   JOptionPane.showMessageDialog(null,e);
            }
               
        }
    }
     
     public ResultSet floor_unitList() {
        conn = sqliteConn2.connect();
        String sql = "SELECT floor_unit from apartment_unit WHERE registered = 'true'";
        try {
            Statement stm = conn.createStatement();
            ResultSet rs = stm.executeQuery(sql);
            return rs;
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, e);
        }
        return null; // Return null if an exception occurs
    }
    private boolean isValidEmail(String email) {
        String emailPattern = "^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$";
        Pattern pattern = Pattern.compile(emailPattern);
        return pattern.matcher(email).matches();
    } 
    
    private boolean isEmailAlreadyExists(String email){
          
          conn = sqliteConn2.connect();
          if(conn != null){
                String sql = "SELECT COUNT(*) FROM user WHERE email =?";
                try{
                pst = conn.prepareStatement(sql);
                pst.setString(1,email);
                rs = pst.executeQuery();
                    if(rs.next()){
                       int count = rs.getInt(1);
                       return count > 0;    
                   }
                }catch(SQLException e){
                    JOptionPane.showMessageDialog(null,e);
                }    
                   
          }
          return false;
         }
         
     
        

    
    private String getCurrentDate() {
    SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
    Date currentDate = new Date();
    return dateFormat.format(currentDate);
    }
    private String getCurrentTime(){
        DateTimeFormatter dtf = DateTimeFormatter.ofPattern("HH:mm:ss");
        LocalTime localTime = LocalTime.now();
        return dtf.format(localTime);
    }
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ManagerMainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ManagerMainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ManagerMainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ManagerMainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new ManagerMainPage().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel BillPanel;
    private javax.swing.JLabel DateLabel;
    private javax.swing.JTable Forum_table;
    private javax.swing.JComboBox<String> SearchByListVisitor;
    private javax.swing.JButton SearchUnitbtn;
    private javax.swing.JLabel TimeLabel;
    private javax.swing.JPanel VisitorPanel;
    private javax.swing.JButton account_btn;
    private javax.swing.JButton addAcc_btn;
    private javax.swing.JButton addResidentAccount;
    private javax.swing.JPanel addaccPanel;
    private javax.swing.JRadioButton allUnit;
    private javax.swing.JTextField billAmountTextField;
    private javax.swing.JTextField billDescription;
    private javax.swing.JTable billRecord_table;
    private javax.swing.JComboBox<String> billTypeSelection;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.ButtonGroup buttonGroup2;
    private javax.swing.JMenuItem createBill;
    private javax.swing.JButton deleteAccountbtn;
    private javax.swing.JTextField email_input;
    private javax.swing.JPanel forumDicussionPanel;
    private javax.swing.JPanel forumPanel;
    private javax.swing.JButton forumPanelbtn;
    private javax.swing.JPanel generateBillPanel;
    private javax.swing.JButton generateReport;
    private javax.swing.JButton generateVisitorReport;
    private javax.swing.JPanel homePanel;
    private javax.swing.JButton home_btn;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JComboBox<String> monthPicker;
    private javax.swing.JButton openBillpanel;
    private javax.swing.JTextField password_input;
    private javax.swing.JPanel residentAccountInfo;
    private javax.swing.JComboBox<String> residentUnitInput;
    public javax.swing.JLabel resident_contact;
    public javax.swing.JLabel resident_ic;
    public javax.swing.JLabel resident_name;
    private javax.swing.JTable resident_table;
    public javax.swing.JTable resident_vehicle;
    private javax.swing.JPanel residentaccPanel;
    private javax.swing.JTextField searchVisitorInput;
    private javax.swing.JButton searchVisitorbtn;
    private javax.swing.JRadioButton selectedUnit;
    private javax.swing.JButton sendBill;
    private javax.swing.JButton sendReminderbtn;
    private javax.swing.JComboBox<String> unitInput;
    private javax.swing.JComboBox<String> unitList;
    private javax.swing.JTextField username_input;
    private javax.swing.JButton viewResidentDetails;
    private javax.swing.JComboBox<String> visitorReportMonthSelection;
    private javax.swing.JComboBox<String> visitorReportYearSelection;
    private javax.swing.JTable visitor_table;
    private javax.swing.JButton vistorPanelbtn;
    private javax.swing.JComboBox<String> yearPicker;
    // End of variables declaration//GEN-END:variables

    @Override
    public void run() {
        while(true){
            Calendar cal = Calendar.getInstance();
            hour = cal.get(Calendar.HOUR_OF_DAY);
            minutes = cal.get(Calendar.MINUTE);
            second = cal.get(Calendar.SECOND);
            
            SimpleDateFormat sdf = new SimpleDateFormat("HH:mm:ss");
            Date dat = cal.getTime();
            String time = sdf.format(dat);
            TimeLabel.setText(time);
        }
    }
}
